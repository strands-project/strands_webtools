<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />

    <!-- The default styling is provided by http://getbootstrap.com -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">
    
    <link rel="stylesheet" type="text/css" href="css/jquery-ui.css" />

    <!-- ROSLIBJS -->
    <!-- EventEmitter2 is the sole dependency of roslibjs -->
    <script src="js/eventemitter2.js"></script>
    <!-- Roslibjs handles core ROS functionality in the browser -->
    <script src="js/roslib.js"></script>

    <!-- ROS2DJS -->
    <!-- EaselJS is a dependency of ros2djs -->
    <script src="js/easeljs.js"></script>
    <!-- Ros2djs provides 2D scene support, including mapping and more -->
    <script src="js/ros2d.js"></script>

    <script src="js/nav2d.min.js"></script>



<script type="text/javascript">
  var hostname = location.hostname;

  /**
   * Setup all GUI elements when the page is loaded.
   */
  function init() {
    // Connect to ROS.
      // Connecting to ROS.
      var ros = new ROSLIB.Ros({
      url : 'ws://'+hostname+':9090'
      });
   // Create the main viewer.
    var viewer = new ROS2D.Viewer({
      divID : 'nav',
      width : 400,
      height : 400
    });

      // Subscribes to the robot's OccupancyGrid, which is ROS representation of
      // the map, and renders the map in the scene.
      //var gridClient = new ROS2D.OccupancyGridClient({
      //  ros : ros,
      //  rootObject : viewer.scene
      //});


    // Setup the nav client.
    var gridClient =  NAV2D.OccupancyGridClientNav({
      ros : ros,
      rootObject : viewer.scene,
      viewer : viewer,
      serverName : '/move_base'
    });




    // Setup the nav client.
    //var nav = NAV2D.OccupancyGridClientNav({
     // ros : ros,
     // rootObject : viewer.scene,
     // viewer : viewer,
     // serverName : '/move_base'
    //});
    //nav.on('change', function(){
    //	viewer.scaleToDimensions(nav.currentGrid.width, nav.currentGrid.height);
    //});
}
</script>
</head>

<body onload="init()">
    <div class="navbar navbar-inverse navbar-fixed-top">
        <a class="navbar-brand" href="#">strands_webtools</a>      
      <ul class="nav pull-right">
      <li class="active"><a href="main.html">Main</a></li>
      <li><a href="navigation.html">Autonomous</a></li>
    </ul>
    </div>
    <div class="container">
  <h1>Map for autonomous Navigation</h1>
  <div id="nav"></div>
double click on the map to send the robot
   </div>
</body>
</html>
